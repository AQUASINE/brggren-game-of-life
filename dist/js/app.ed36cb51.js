(function(){"use strict";var e={9364:function(e,t,r){var s=r(9242),i=r(3396);function n(e,t,r,s,n,o){const a=(0,i.up)("router-view");return(0,i.wg)(),(0,i.j4)(a)}var o={name:"App",computed:{width(){return window.innerWidth},height(){return window.innerHeight},squareSize(){return this.$route.params.squareSize?parseInt(this.$route.params.squareSize):40},type(){return this.$route.params.type&&"berggren"===this.$route.params.type?"berggren":"normal"}}},a=r(89);const u=(0,a.Z)(o,[["render",n]]);var h=u;const l={id:"game",ref:"game"};function c(e,t,r,s,n,o){return(0,i.wg)(),(0,i.iD)("canvas",l,null,512)}function f(e){return window.innerWidth/e>50||window.innerHeight/e>30}var d={name:"GameView",methods:{draw(){const e=this.$refs.game,t=e.getContext("2d");for(let r=0;r<this.squares.length;r++)for(let e=0;e<this.squares[r].length;e++)"berggren"!==this.type?(t.fillStyle=this.squares[r][e]?"white":"black",t.fillRect(r*this.squareSize,e*this.squareSize,this.squareSize,this.squareSize)):this.drawImageInSquare(t,this.squares[r][e],r,e)},setUpCanvas(){const e=this.$refs.game;e.width=this.width,e.height=this.height,e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("mouseup",this.onMouseUp),e.addEventListener("mousemove",this.onMouseMove),this.setUpSquares()},setUpSquares(){const e=this.$refs.game,t=Math.floor(e.width/this.squareSize),r=Math.floor(e.height/this.squareSize);this.squares=this.createArray(t,r),this.createInitialPattern()},createInitialPattern(){const e=Math.floor(this.squares.length/2),t=Math.floor(this.squares[0].length/2);this.setSquare(e,t,!0),this.setSquare(e+1,t,!0),this.setSquare(e+2,t,!0),this.setSquare(e+2,t+1,!0),this.setSquare(e+1,t+2,!0),this.setSquare(e-1,t,!0),this.setSquare(e-2,t,!0),this.setSquare(e-2,t+1,!0),this.setSquare(e-1,t+2,!0)},setSquare(e,t,r){e<0||e>=this.squares.length||t<0||t>=this.squares[0].length||(this.squares[e][t]=r)},createArray(e,t){const r=[];for(let s=0;s<e;s++){r[s]=[];for(let e=0;e<t;e++)r[s][e]=!1}return r},update(){this.updateSquares(),this.draw(),setTimeout(this.update,1e3/6)},updateSquares(){if(this.isMouseDown)return;const e=this.squares,t=this.createArray(e.length,e[0].length);for(let r=0;r<e.length;r++)for(let s=0;s<e[r].length;s++){const i=this.getNumNeighbors(e,r,s);e[r][s]?t[r][s]=!(i<2||i>3):t[r][s]=3===i}this.squares=t},getNumNeighbors(e,t,r){let s=0;for(let i=-1;i<=1;i++)for(let n=-1;n<=1;n++)0===i&&0===n||e[t+i]&&e[t+i][r+n]&&s++;return s},onMouseDown(e){this.isMouseDown=!0,this.onMouseMove(e)},onMouseUp(){this.isMouseDown=!1},onMouseMove(e){if(!this.isMouseDown)return;const t=this.$refs.game,r=t.getBoundingClientRect(),s=Math.floor((e.clientX-r.left)/this.squareSize),i=Math.floor((e.clientY-r.top)/this.squareSize);this.setSquare(s,i,!0),this.draw()},drawImageInSquare(e,t,r,s){if(!t){const t=new Image;return t.src="https://cdn.discordapp.com/emojis/994836521930723398.gif?size=44&quality=lossless",void e.drawImage(t,r*this.squareSize,s*this.squareSize,this.squareSize,this.squareSize)}const i=new Image;i.src="https://cdn.discordapp.com/emojis/1015738796987404489.webp?size=96&quality=lossless",e.fillStyle="white",e.fillRect(r*this.squareSize,s*this.squareSize,this.squareSize,this.squareSize),e.drawImage(i,r*this.squareSize,s*this.squareSize,this.squareSize,this.squareSize)}},computed:{width(){return window.innerWidth},height(){return window.innerHeight},squareSize(){if(this.$route.query.size){let e=parseInt(this.$route.query.size);if(e<5&&(e=5),f(e)){while(f(e))e++;console.log(`Warning: increasing square size to ${e}x${e} to prevent lag`)}return e}return 40},type(){let e=this.$route.query.type;return"berggren"!==e?(document.body.style.backgroundColor="black","normal"):(document.body.style.backgroundColor="transparent","berggren")}},mounted(){this.setUpCanvas(),this.update()},data(){return{squares:[]}}};const g=(0,a.Z)(d,[["render",c],["__scopeId","data-v-0df9e8d5"]]);var p=g,q=r(2483);const w=(0,s.ri)(h),m=(0,q.p7)({history:(0,q.r5)(),routes:[{path:"/",component:p}]});w.use(m),w.mount("#app")}},t={};function r(s){var i=t[s];if(void 0!==i)return i.exports;var n=t[s]={exports:{}};return e[s](n,n.exports,r),n.exports}r.m=e,function(){var e=[];r.O=function(t,s,i,n){if(!s){var o=1/0;for(l=0;l<e.length;l++){s=e[l][0],i=e[l][1],n=e[l][2];for(var a=!0,u=0;u<s.length;u++)(!1&n||o>=n)&&Object.keys(r.O).every((function(e){return r.O[e](s[u])}))?s.splice(u--,1):(a=!1,n<o&&(o=n));if(a){e.splice(l--,1);var h=i();void 0!==h&&(t=h)}}return t}n=n||0;for(var l=e.length;l>0&&e[l-1][2]>n;l--)e[l]=e[l-1];e[l]=[s,i,n]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,s){var i,n,o=s[0],a=s[1],u=s[2],h=0;if(o.some((function(t){return 0!==e[t]}))){for(i in a)r.o(a,i)&&(r.m[i]=a[i]);if(u)var l=u(r)}for(t&&t(s);h<o.length;h++)n=o[h],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(l)},s=self["webpackChunkbrggren_game_of_life"]=self["webpackChunkbrggren_game_of_life"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=r.O(void 0,[998],(function(){return r(9364)}));s=r.O(s)})();
//# sourceMappingURL=app.ed36cb51.js.map